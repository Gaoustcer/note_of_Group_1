# CSAPP（深入理解计算机系统）阅读报告

## Chapter 3 程序的机器级表示

### 程序编码

机器语言使得一些对高级语言程序员不可见的处理器状态变得可见

条件码寄存器保存最近执行的算术指令的状态信息，用于控制流的条件变化

### 数据格式

字，半字，双字，四字

#### 操作数

立即数，寄存器，存储器引用

#### 寻址模式

Imm(Eb,Ei,s):Imm-立即数 Eb-基址寄存器 Ei-变址寄存器 s-伸缩因子 Imm+R[Eb]+R[Ei]*s

#### 数据传送指令

五种可能move a，b

| original number a      | target  b                          |
| ---------------------- | ---------------------------------- |
| 立即数                 | 寄存器                             |
| 寄存器                 | 寄存器                             |
| 内存（寄存器，寄存器） | 寄存器                             |
| 立即数                 | 内存 （寄存器偏移寻址，偏移量为0） |
| 寄存器                 | 内存（偏移量可以为一个整数）       |

数据传送指令可以传送一个word或者half word甚至byte

movsbl需要进行符号位扩展，但是movzbl就在高位补零

pushl和popl只有一个操作数，需要向程序栈压栈或者取出数据

一般而言，栈向下增长，栈顶元素的地址最低

### 算数和逻辑操作

#### 加载有效地址(load efficient address)

这条指令将一个地址加载进寄存器，实际上并没有读存储器

#### 一元操作和二元操作

二元操作，第二个操作数既是元又是目的